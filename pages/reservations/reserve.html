<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Viaje y Reserva - OnePath</title>
    <!-- CSS base y componentes compartidos -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/components/navbar.css">
    <link rel="stylesheet" href="../../css/components/cards.css">
    <link rel="stylesheet" href="../../css/components/forms.css">
    <link rel="stylesheet" href="../../css/components/buttons.css">
    <link rel="stylesheet" href="../../css/components/footer.css">
    <!-- Estilos específicos de la página -->
    <link rel="stylesheet" href="../../css/pages/reservations.css">
    <script id="navbar-script" src="../../js/components/navbar.js" data-base-prefix="../../" defer></script>
</head>
<body>
    <!-- Header (renderizado por componente) -->
    <div id="navbar"></div>

    <main class="container">
        <!-- Encabezado del viaje -->
        <section class="page-header">
            <div class="breadcrumb">
                <a href="../trips/search.html">Buscar Viaje</a>
                <span class="sep">›</span>
                <span>Detalle del Viaje</span>
            </div>
        </section>

        <div class="reserve-layout">
            <!-- Columna izquierda: detalle del viaje -->
            <div class="left-column">
                <article class="trip-card driver-summary">
                    <div class="driver-summary-header">
                        <div class="driver-avatar"><img class="js-random-avatar" data-size="128" data-variant="avataaars" src="../../assets/images/avatars/carlos.svg" alt="Avatar de Carlos M."></div>
                        <div class="driver-main">
                            <h3>Carlos M. - Ing. Sistemas</h3>
                            <div class="driver-meta">
                                <span class="rating-stars">★★★★★</span>
                                <span class="rating-value">4.9</span>
                                <span class="rating-count">(23 reseñas)</span>
                            </div>
                            <div class="driver-meta">
                                <span class="divider">•</span>
                                <span class="text-muted">Miembro desde Marzo 2024</span>
                                <span class="divider">•</span>
                                <span class="text-muted">47 viajes completados</span>
                            </div>
                        </div>
                        <div class="price-box">
                            <span class="price-amount">S/ 8</span>
                            <span class="price-unit">por persona</span>
                        </div>
                    </div>

                    <!-- Ruta del viaje -->
                    <h4 class="section-title">Ruta del Viaje</h4>
                    <div class="trip-route">
                        <div class="route-point departure">
                            <span class="route-dot green"></span>
                            <div class="route-details">
                                <span class="route-time">07:30</span>
                                <span class="route-location">Metro San Isidro</span>
                                <small class="text-muted">Av. Javier Prado 4200</small>
                            </div>
                        </div>
                        <div class="route-middle">
                            <span class="duration">45 min</span>
                            <div class="route-line"></div>
                            <span class="car-icon material-icons" aria-hidden="true">directions_car</span>
                        </div>
                        <div class="route-point arrival">
                            <span class="route-dot red"></span>
                            <div class="route-details">
                                <span class="route-time">08:15</span>
                                <span class="route-location">Puerta Principal UNMSM</span>
                                <small class="text-muted">Av. Venezuela s/n, Lima</small>
                            </div>
                        </div>
                    </div>

                    <!-- Estadísticas rápidas -->
                    <div class="stats-grid">
                        <div class="stat">
                            <div class="stat-icon material-icons">confirmation_number</div>
                            <div class="stat-text">
                                <strong>2 asientos</strong>
                                <small class="text-muted">disponibles</small>
                            </div>
                        </div>
                        <div class="stat">
                            <div class="stat-icon material-icons">directions_car</div>
                            <div class="stat-text">
                                <strong>Volkswagen Golf</strong>
                                <small class="text-muted">2019 - Gris</small>
                            </div>
                        </div>
                        <div class="stat">
                            <div class="stat-icon material-icons">access_time</div>
                            <div class="stat-text">
                                <strong>45 minutos</strong>
                                <small class="text-muted">duración</small>
                            </div>
                        </div>
                        <div class="stat">
                            <div class="stat-icon material-icons">school</div>
                            <div class="stat-text">
                                <strong>UNMSM</strong>
                                <small class="text-muted">destino</small>
                            </div>
                        </div>
                    </div>
                </article>

                <!-- Información del conductor -->
                <section class="card info-section">
                    <div class="info-columns">
                        <div>
                            <h4 class="section-title">Preferencias de Viaje</h4>
                            <ul class="preferences-grid">
                                <li><span class="material-icons">check</span> Música permitida</li>
                                <li><span class="material-icons">smoking_rooms</span> No fumar</li>
                                <li><span class="material-icons">pets</span> No mascotas</li>
                                <li><span class="material-icons">chat</span> Conversación bienvenida</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="section-title">Información Adicional</h4>
                            <ul class="preferences-grid">
                                <li><span class="material-icons">school</span> Estudiante de Ing. Sistemas - 8vo ciclo</li>
                                <li><span class="material-icons">phone_android</span> Verificado por teléfono</li>
                                <li><span class="material-icons">badge</span> Documento verificado</li>
                                <li><span class="material-icons">map</span> Viaja regularmente esta ruta</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Reseñas de Pasajeros -->
                <section class="card reviews">
                    <h4 class="section-title">Reseñas de Pasajeros</h4>
                    <div class="review-item">
                        <div class="review-header">
                            <div class="review-user">
                                <img class="review-avatar js-random-avatar" data-size="32" data-variant="avataaars" src="../../assets/images/avatars/default.svg" alt="Avatar de Laura S.">
                                <strong>Laura S.</strong>
                            </div>
                            <span class="rating-stars">★★★★★</span>
                        </div>
                        <p class="review-text">Excelente conductor, muy puntual y el viaje fue muy cómodo. Carlos es muy amable y hace que el trayecto sea agradable. Definitivamente volvería a viajar con él.</p>
                        <small class="text-muted">Hace 3 semanas</small>
                    </div>
                    <div class="review-item">
                        <div class="review-header">
                            <div class="review-user">
                                <img class="review-avatar js-random-avatar" data-size="32" data-variant="avataaars" src="../../assets/images/avatars/default.svg" alt="Avatar de Diego M.">
                                <strong>Diego M.</strong>
                            </div>
                            <span class="rating-stars">★★★★★</span>
                        </div>
                        <p class="review-text">Muy buen servicio, llegamos a tiempo y el auto estaba limpio. Carlos es confiable y profesional. Lo recomiendo totalmente para estudiantes.</p>
                        <small class="text-muted">Hace 1 semana</small>
                    </div>
                    <a class="link-muted" href="#">Ver todas las reseñas (23)</a>
                </section>

            </div>

            <!-- Columna derecha: reserva -->
            <aside class="right-column">
                <section class="sidebar-card">
                    <h4 class="section-title">Reservar Asiento</h4>

                    <div class="trip-summary">
                        <div class="summary-row">
                            <span class="text-muted">Lunes, 7 Oct 2025</span>
                            <strong>07:30</strong>
                        </div>
                        <div class="summary-row">
                            <span>Metro San Isidro</span>
                        </div>
                        <div class="summary-row">
                            <span>Puerta Principal UNMSM</span>
                        </div>
                    </div>

                    <form id="reserveForm" class="reserve-form">
                        <div class="form-group">
                            <label for="passengers">Número de Pasajeros</label>
                            <select id="passengers" name="passengers">
                                <option value="1" selected>1 pasajero</option>
                                <option value="2">2 pasajeros</option>
                            </select>
                        </div>

                        <div class="price-breakdown">
                            <div class="row">
                                <span>Precio por persona</span>
                                <strong>S/ <span id="pricePer">8.00</span></strong>
                            </div>
                            <div class="row">
                                <span>Cantidad de pasajeros</span>
                                <strong id="qty">1</strong>
                            </div>
                            <div class="row total">
                                <span>Total</span>
                                <strong>S/ <span id="totalPrice">8.00</span></strong>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="message">Mensaje al Conductor (Opcional)</label>
                            <textarea id="message" name="message" rows="3" placeholder="Ej: Hola Carlos, soy estudiante de la UNMSM también. ¿Podrías confirmar el punto exacto de recojo?"></textarea>
                        </div>

                        <div class="security-note">
                            <strong>Seguridad</strong>
                            <p class="text-muted">Tu información de contacto será compartida con el conductor sólo después de confirmar la reserva.</p>
                        </div>

                        <div class="actions">
                            <button type="submit" class="btn-reserve" style="width:100%">Enviar Solicitud de Viaje</button>
                            <button type="button" class="btn-secondary" id="contactDriver">Contactar Conductor</button>
                            <button type="button" class="btn-secondary" id="saveFavorite">Guardar en Favoritos</button>
                        </div>
                    </form>
                </section>

                <section class="security-box">
                    <h4 class="section-title">Consejos de Seguridad</h4>
                    <ul class="preferences-grid">
                        <li>✔ Verifica la identidad del conductor</li>
                        <li>✔ Comparte tu ubicación con alguien de confianza</li>
                        <li>✔ Confirma los detalles del viaje antes de subir</li>
                    </ul>
                </section>
            </aside>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo-section">
                    <div class="footer-logo">
                        <div class="logo-icon"><span class="material-icons">directions_car</span></div>
                        <span>OnePath</span>
                    </div>
                    <p>Conectando estudiantes universitarios para viajes seguros y económicos</p>
                </div>
                <div class="footer-links">
                    <a href="#">Términos y Condiciones</a>
                    <a href="#">Política de Privacidad</a>
                    <a href="#">Soporte</a>
                    <a href="#">Contacto</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../../js/reservations/reserve.js" defer></script>
</body>
</html>